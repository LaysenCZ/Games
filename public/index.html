<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>City Rumor – Preview</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div id="app">
    <!-- Pozadí -->
    <img class="bg" src="/images/city-bg.jpg" alt="City background" />
    <div class="overlay" aria-hidden="true"></div>

    <!-- Horní lišta -->
    <header class="topbar">
      <div class="logo">
        <img src="/images/logo.svg" alt="City Rumor" />
        <span>CITY RUMOR</span>
      </div>
      <nav class="nav" aria-label="Hlavní navigace">
        <button type="button" data-view="menu" class="nav-btn active">Menu</button>
        <button type="button" data-view="howto" class="nav-btn">Jak hrát</button>
        <button type="button" data-view="news" class="nav-btn">Novinky</button>
        <button type="button" data-view="about" class="nav-btn">O hře</button>
        <button type="button" data-view="support" class="nav-btn">Podpora</button>
        <button type="button" data-view="settings" class="nav-btn">Nastavení</button>
      </nav>
    </header>

    <!-- Obsah -->
    <main id="views">
      <!-- MENU -->
      <section id="view-menu" class="view visible" aria-labelledby="title-menu">
        <div class="card center">
          <h1 id="title-menu">City Rumor</h1>
          <p class="subtitle">Město, které věří… a podle toho žije.</p>
          <div class="actions">
            <button type="button" id="btn-play" class="btn primary">▶️ Hrát (náhled)</button>
            <button type="button" class="btn ghost" data-view="howto">ℹ️ Jak hrát</button>
          </div>
          <div class="gallery" aria-label="Náhledy">
            <div class="shot">Náhled menu</div>
            <div class="shot">Náhled hry</div>
            <div class="shot">Noviny města</div>
          </div>
        </div>
      </section>

      <!-- HOW TO -->
      <section id="view-howto" class="view" aria-labelledby="title-howto">
        <div class="card">
          <h2 id="title-howto">Jak hrát</h2>
          <ul class="howto-list">
            <li>💬 Piš <b>drby</b> o tom, co se děje ve městě.</li>
            <li>👍 Získej <b>víru</b> ostatních – když uvěří dost lidí, drb se stane <b>skutečností</b>.</li>
            <li>🏛️ Ovlivňuj <b>ekonomiku, stabilitu, spokojenost</b> a <b>chaos</b> města.</li>
            <li>🎭 Plň svůj <b>tajný cíl</b> (Starosta, Manipulátor, Novinář, Občan, Věštec...).</li>
            <li>🗞️ Na konci dne vychází <b>Noviny</b> s dopady a titulky.</li>
          </ul>
        </div>
      </section>

      <!-- NEWS -->
      <section id="view-news" class="view" aria-labelledby="title-news">
        <div class="card">
          <h2 id="title-news">Novinky</h2>
          <div id="news-list" class="news"></div>
        </div>
      </section>

      <!-- ABOUT -->
      <section id="view-about" class="view" aria-labelledby="title-about">
        <div class="card">
          <h2 id="title-about">O hře</h2>
          <p><b>City Rumor</b> je sociální hra o síle slov v živém městě.</p>
          <p><b>Myšlenka:</b> Co když svět uvěří – a tím se to stane?</p>
          <p><b>Verze:</b> 0.2.0 (Preview)</p>
          <p><b>Autor:</b> Laysen CZ</p>
        </div>
      </section>

      <!-- SUPPORT -->
      <section id="view-support" class="view" aria-labelledby="title-support">
        <div class="card">
          <h2 id="title-support">Podpora / Nahlášení</h2>
          <form id="feedback-form" class="form" autocomplete="on">
            <label>Typ hlášení
              <select name="type" required>
                <option value="bug">Chyba (bug)</option>
                <option value="idea">Zlepšovák (feature)</option>
                <option value="other">Jiné</option>
              </select>
            </label>
            <label>Název
              <input type="text" name="title" placeholder="Krátký název" required maxlength="80"/>
            </label>
            <label>Popis
              <textarea name="message" placeholder="Co přesně se děje / co navrhuješ?" required rows="5" maxlength="1200"></textarea>
            </label>
            <label>Kontakt (volitelné)
              <input type="text" name="contact" placeholder="Email/Discord"/>
            </label>
            <button type="submit" class="btn primary">Odeslat</button>
            <div id="feedback-result" class="muted" role="status" aria-live="polite"></div>
          </form>
        </div>
      </section>

      <!-- SETTINGS -->
      <section id="view-settings" class="view" aria-labelledby="title-settings">
        <div class="card">
          <h2 id="title-settings">Nastavení</h2>
          <div class="settings">
            <label>
              Hlasitost hudby
              <input id="music-volume" type="range" min="0" max="1" step="0.01" value="0.6"/>
            </label>
            <label>
              Hlasitost efektů
              <input id="sfx-volume" type="range" min="0" max="1" step="0.01" value="0.9"/>
            </label>
            <label class="row">
              <input id="music-toggle" type="checkbox" checked/> Zapnout hudbu
            </label>
            <label class="row">
              <input id="sfx-toggle" type="checkbox" checked/> Zapnout efekty
            </label>
          </div>
        </div>
      </section>

      <!-- GAME -->
      <section id="view-game" class="view" aria-labelledby="title-game">
        <div class="hud">
          <div class="meters">
            <div class="meter"><span>💰 Ekonomika</span><progress id="m-eco" min="0" max="100" value="70"></progress></div>
            <div class="meter"><span>🏛️ Stabilita</span><progress id="m-sta" min="0" max="100" value="65"></progress></div>
            <div class="meter"><span>❤️ Spokojenost</span><progress id="m-hap" min="0" max="100" value="75"></progress></div>
            <div class="meter"><span>🔥 Chaos</span><progress id="m-cha" min="0" max="100" value="30"></progress></div>
          </div>
          <div class="room">
            <div class="rumor-input">
              <input id="rumor-text" type="text" placeholder="Napiš drb… (Enter odešle)" maxlength="240" />
            </div>
            <div id="rumor-list" class="rumors"></div>
          </div>
        </div>
        <button type="button" class="btn back" data-view="menu">⟵ Zpět do menu</button>
      </section>
    </main>
  </div>

  <!-- Audio -->
  <audio id="audio-menu" src="/audio/menu-theme.mp3" loop></audio>
  <audio id="audio-game" src="/audio/game-theme.mp3" loop></audio>
  <audio id="sfx-click" src="/audio/click.wav"></audio>

  <script src="/socket.io/socket.io.js" defer></script>
  <script src="/app.js" defer></script>
  <script src="/game.js" defer></script>
</body>
</html>
