<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dobyvatel – Multiplayer</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>Dobyvatel – Multiplayer</h1>
    <nav id="nav-auth">
      <button id="btnShowLogin">Přihlášení</button>
      <button id="btnShowRegister">Registrace</button>
    </nav>
    <div id="userBox" class="hidden">
      Přihlášen: <span id="who"></span>
      <button id="btnLogout">Odhlásit</button>
    </div>
  </header>

  <main class="container">
    <!-- Auth Panels -->
    <section id="authPanel" class="card">
      <div class="tabs">
        <button class="tab active" data-tab="loginTab">Přihlášení</button>
        <button class="tab" data-tab="registerTab">Registrace</button>
      </div>
      <div id="loginTab" class="tabcontent show">
        <form id="loginForm">
          <label>Uživatelské jméno <input required name="username" /></label>
          <label>Heslo <input type="password" required name="password" /></label>
          <button type="submit">Přihlásit</button>
        </form>
      </div>
      <div id="registerTab" class="tabcontent">
        <form id="registerForm">
          <label>Uživatelské jméno <input required name="username" /></label>
          <label>Heslo <input type="password" required name="password" /></label>
          <button type="submit">Registrovat</button>
        </form>
      </div>
    </section>

    <!-- Lobby -->
    <section id="lobbyPanel" class="card hidden">
      <h2>Lobby</h2>
      <div class="row">
        <button id="btnCreateRoom">Vytvořit místnost</button>
        <div>
          <input id="joinCode" placeholder="Kód místnosti (ABC123)" />
          <button id="btnJoinRoom">Připojit</button>
        </div>
      </div>
      <div id="roomInfo" class="hidden">
        <p><b>Místnost:</b> <span id="roomName"></span> (<code id="roomId"></code>)</p>
        <div id="players"></div>
        <div class="row">
          <button id="btnLeaveRoom">Opustit místnost</button>
          <button id="btnStartGame" class="primary">Start hry</button>
        </div>
      </div>
    </section>

    <!-- Game -->
    <section id="gamePanel" class="card hidden">
      <h2>Hra</h2>
      <div id="statusBar"></div>

      <div class="game-wrap">
        <canvas id="board" width="500" height="500"></canvas>
        <div class="qa">
          <div id="questionBox">
            <div id="questionText">Otázka…</div>
            <div id="answers"></div>
            <div id="timer"></div>
            <button id="btnResolve" title="Vyhodnotit po limitu">Vyhodnotit</button>
          </div>
          <div class="hint">
            <p>Pravidla: správná odpověď → máš tah a klikem na mapu dobýváš/posiluješ. Limit 15s.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Info -->
    <section class="card">
      <h2>O hře</h2>
      <p>
        Tohle je prototyp „Dobyvatel-like“ hry: <b>Lobby</b> (1), <b>Průběh hry</b> (2), 
        <b>Otázky</b> (3), <b>Technologie</b> (4 – Node/Socket.io), <b>Extra mechaniky</b> (5 – posilování, útok).
        Přidán je i <b>uživatelský systém</b> (registrace/přihlášení).
      </p>
    </section>
  </main>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/client.js"></script>
</body>
</html>
